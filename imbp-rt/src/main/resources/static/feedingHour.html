<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Feeding data</title>
</head>
<body>
    <div id="update"></div>
    <table style="width:100%">
        <tr>
            <th style="width:25%; text-align: left">name</th>
            <th style="width:25%; text-align: left">name</th>
            <th style="width:25%; text-align: left">name</th>
            <th style="width:25%; text-align: left">name</th>
        </tr>

        <tr>
            <td id="image1"></td>
            <td id="image2"></td>
            <td id="image3"></td>
            <td id="image5"></td>
        </tr>
        <p></p>
        <tr>
            <td id="image6"></td>
            <td id="image7"></td>
            <td id="image8"></td>
            <td id="image9"></td>
        </tr>
        <tr>
            <td id="image10"></td>
            <td id="image11"></td>
            <td id="image12"></td>
        </tr>
         </table>
<script>
    window.addEventListener('load', function (ev) {
        var image1 = document.getElementById('image1');
        var image2 = document.getElementById('image2');
        var image3 = document.getElementById('image3');
        var image5 = document.getElementById('image5');
        var image6 = document.getElementById('image6');
        var image7 = document.getElementById('image7');
        var image8 = document.getElementById('image8');
        var image9 = document.getElementById('image9');
        var image10 = document.getElementById('image10');
        var image11 = document.getElementById('image11');
        var image12 = document.getElementById('image12');

        var ws61 = new WebSocket('ws://localhost:8083/ws/api/rt/feeding');
        var ws62 = new WebSocket('ws://localhost:8083/ws/api/rt/feeding');
        var ws63 = new WebSocket('ws://localhost:8083/ws/api/rt/feeding');
        var ws64 = new WebSocket('ws://localhost:8083/ws/api/rt/feeding');
        var ws65 = new WebSocket('ws://localhost:8083/ws/api/rt/feeding');
        var ws66 = new WebSocket('ws://localhost:8083/ws/api/rt/feeding');
        var ws67 = new WebSocket('ws://localhost:8083/ws/api/rt/feeding');
        var ws68 = new WebSocket('ws://localhost:8083/ws/api/rt/feeding');
        var ws69 = new WebSocket('ws://localhost:8083/ws/api/rt/feeding');
        var ws610 = new WebSocket('ws://localhost:8083/ws/api/rt/feeding');
        var ws611 = new WebSocket('ws://localhost:8083/ws/api/rt/feeding');
        var ws612 = new WebSocket('ws://localhost:8083/ws/api/rt/feeding');


        ws61.onopen = function() {
            ws61.send('20181106,'+1);
        };
        ws62.onopen = function() {
            ws62.send('20181106,'+2);
        };
        ws63.onopen = function() {
            ws63.send('20181106,'+3);
        };
        ws64.onopen = function() {
            ws64.send('20181106,'+4);
        };
        ws65.onopen = function() {
            ws65.send('20181106,'+5);
        };
        ws66.onopen = function() {
            ws66.send('20181106,'+6);
        };
        ws67.onopen = function() {
            ws67.send('20181106,'+7);
        };
        ws68.onopen = function() {
            ws68.send('20181106,'+8);
        };
        ws69.onopen = function() {
            ws69.send('20181106,'+9);
        };
        ws610.onopen = function() {
            ws610.send('20181106,'+10);
        };
        ws611.onopen = function() {
            ws611.send('20181106,'+11);
        };
        ws612.onopen = function() {
            ws612.send('20181106,'+12);
        };


        ws61.onmessage = function (evt) {
            image1.innerHTML = evt.data;
        };
        ws62.onmessage = function (evt) {
            image2.innerHTML = evt.data;
        };
        ws63.onmessage = function (evt) {
            image3.innerHTML = evt.data;
        };
        ws64.onmessage = function (evt) {
            image1.innerHTML = evt.data;
        };
        ws65.onmessage = function (evt) {
            image5.innerHTML = evt.data;
        };
        ws66.onmessage = function (evt) {
            image6.innerHTML = evt.data;
        };
        ws67.onmessage = function (evt) {
            image7.innerHTML = evt.data;
        };
        ws68.onmessage = function (evt) {
            image8.innerHTML = evt.data;
        };
        ws69.onmessage = function (evt) {
            image9.innerHTML = evt.data;
        };
        ws610.onmessage = function (evt) {
            image10.innerHTML = evt.data;
        };
        ws611.onmessage = function (evt) {
            image11.innerHTML = evt.data;
        };
        ws612.onmessage = function (evt) {
            image12.innerHTML = evt.data;
        };

        ws61.onclose = function() {
            alert("DONE");
        };

        ws61.onerror = function (ev1) {
            alert(ev1.data);
        }
    })
    function sleep(delay) {
        var start = new Date().getTime();
        while (new Date().getTime() < start + delay);
    }
</script>
</body>
</html>